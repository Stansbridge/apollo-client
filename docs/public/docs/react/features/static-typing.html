<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Basic -->
    <title>Using Apollo with TypeScript and Flow | Apollo Client Guide</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png" sizes="16x16 32x32 64x64">

    <!-- Social -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.apollographql.com/docs/react">
    <meta property="og:title" content="Using Apollo with TypeScript and Flow | Apollo Client Guide">
    <meta property="og:description" content="">
    <meta property="og:image" content="">
    <meta name="twitter:card" content="summary_image_large">
    <meta name="twitter:site" content="@apollographql">
    <meta name="twitter:title" content="Using Apollo with TypeScript and Flow | Apollo Client Guide">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">

    <!-- Misc -->
    <meta name="google-site-verification" content="" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,300italic,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/docs/react/style/style.css">
  </head>
  <body class="">
    

<div class="nav dark">
  <div class="nav-group">
    <div class="nav-item show-mobile">
      <span class="js-sidebar-toggle ">
        <span class="icon-menu"></span>
      </span>
    </div>
    <div class="nav-item">
      
      <a class="logo-wrapper" href="http://dev.apollodata.com/" title="Apollo Developers"  >
        <img src="../images/logo-apollo-space-left.svg" alt="Apollo" class="logo"/><img src="../images/logo-apollo-subbrands-developers-space.svg" class="logo-subbrand" alt="Developers"/>
      </a>
    </div>
  </div>

  <div class="nav-group right">
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/react"  >
          <span>React</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/angular2"  >
          <span>Angular</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/ios"  >
          <span>iOS</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/android"  >
          <span>Android</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/core"  >
          <span>Vanilla JS</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false separator">
        <a class="link" href="http://dev.apollodata.com/tools"  >
          <span>Server</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="https://medium.com/apollo-stack" target=_new >
          <span>Blog</span>
        </a>
      </div>
    
      
      <div class="nav-item show-desktop false ">
        <a class="link" href="http://dev.apollodata.com/community"  >
          <span>Community</span>
        </a>
      </div>
    
  </div>
</div>

<div class="sidebar">
  <div class="panel">
    <div class="panel-item">
      <a class="" href="../http:/dev.apollodata.com/" title="Apollo"  >
        <span>Apollo Developers</span>
      </a>
    </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/react"  >
          <span>React</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/angular2"  >
          <span>Angular</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/ios"  >
          <span>iOS</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/android"  >
          <span>Android</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/core"  >
          <span>Vanilla JS</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/tools"  >
          <span>Server</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="https://medium.com/apollo-stack" target=_new >
          <span>Blog</span>
        </a>
      </div>
    
      <div class="panel-item "">
        <a class="" href="http://dev.apollodata.com/community"  >
          <span>Community</span>
        </a>
      </div>
    
  </div>

  <div class="sidebar-content">
    <div class="topcap">
      <span class="title-sidebar">Apollo Client Guide</span>
      
    </div>

    

    <ul class="toc">
      
        <li>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="../index.html" class="sidebar-link ">
                  <span>Apollo Client</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/integrations.html" class="sidebar-link ">
                  <span>View Integrations</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/setup.html" class="sidebar-link ">
                  <span>Setup and options</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/queries.html" class="sidebar-link ">
                  <span>Queries</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/mutations.html" class="sidebar-link ">
                  <span>Mutations</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/network-layer.html" class="sidebar-link ">
                  <span>Network layer</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/error-handling.html" class="sidebar-link ">
                  <span>Error Handling</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/fragments.html" class="sidebar-link ">
                  <span>Using Fragments</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../basics/subscriptions.html" class="sidebar-link ">
                  <span>Subscriptions</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Features</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="changelog.html" class="sidebar-link ">
                  <span>Changelog</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="caching.html" class="sidebar-link ">
                  <span>Direct Cache Access</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="developer-tooling.html" class="sidebar-link ">
                  <span>Developer tools</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="network-customization.html" class="sidebar-link ">
                  <span></span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="optimistic-ui.html" class="sidebar-link ">
                  <span>Optimistic UI</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="react-native.html" class="sidebar-link ">
                  <span>Integrating with React Native</span>
                </a>
              </li>
            
              
              <li class="item-toc  current">
                <a href="" class="sidebar-link  current">
                  <span>Using TypeScript and Flow</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Recipes</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="../recipes/authentication.html" class="sidebar-link ">
                  <span>Authentication</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/babel.html" class="sidebar-link ">
                  <span>Precompilation with babel</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/meteor.html" class="sidebar-link ">
                  <span>Meteor</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/pagination.html" class="sidebar-link ">
                  <span>Pagination</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/prefetching.html" class="sidebar-link ">
                  <span>Prefetching data</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/query-splitting.html" class="sidebar-link ">
                  <span>Query Splitting</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/server-side-rendering.html" class="sidebar-link ">
                  <span>Server Side Rendering</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/simple-example.html" class="sidebar-link ">
                  <span>Small Example: Snack</span>
                </a>
              </li>
            
              
              <li class="item-toc ">
                <a href="../recipes/webpack.html" class="sidebar-link ">
                  <span>Webpack loader</span>
                </a>
              </li>
            
          </ul>
        </li>
      
        <li>
          
            <div class="heading-toc">Reference</div>
          
          <ul class="list-toc">
            
              
              <li class="item-toc ">
                <a href="../reference/index.html" class="sidebar-link ">
                  <span>Title</span>
                </a>
              </li>
            
          </ul>
        </li>
      
    </ul>
  </div>
</div>

<div class="content">
  <div class="content-wrapper">
    <div class="header-content">
      <h1 class="title-page">Using Apollo with TypeScript and Flow</h1>
      

      <div class="page-actions">
        <div class="actions-group">
          <a class="btn tertiary small round lowercase" href="https://github.com/apollographql/apollo-client/tree/master/docs/source/features/static-typing.md" target="_blank"><span class="icon-github"></span> <span>Edit on GitHub</span></a>
          
          
        </div>
      </div>
    </div>

    <div class="document-formatting">
      <p>As your application grows, you may find it helpful to include a type system to assist in development. Apollo supports type definitions for both Flow and TypeScript systems. Both <code>apollo-client</code> and <code>react-apollo</code> ship with definitions in their npm packages, so installation should be done for you after the libraries are included in your project.</p>
<p>These docs assume you already have either Flow or TypeScript configured in your project, if not start <a href="https://flow.org/en/docs/install/" target="_blank" rel="external">here for Flow</a>, or <a href="https://github.com/Microsoft/TypeScript-React-Conversion-Guide#typescript-react-conversion-guide" target="_blank" rel="external">here for TypeScript</a>.</p>
<h2 id="operation-result">operation result</h2>

<p>The most common need when using type systems with GraphQL is to type the results of an operation. Given that a GraphQL server’s schema is strongly typed, we can even generate Flow or TypeScript definitions automaticaly using a tool like <a href="https://github.com/apollographql/apollo-codegen" target="_blank" rel="external">apollo-codegen</a>. In these docs however, we will be writing result types manually.</p>
<p>Since the result of a query will be sent to the wrapped component as props, we want to be able to tell our type system the shape of those props. Here is an example setting types for an operation using Flow:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> type &#123; OperationComponent &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string,</div><div class="line">  id: string,</div><div class="line">  appearsIn: string[],</div><div class="line">  friends: Hero[]</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter: OperationComponent&lt;Response&gt; = graphql(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</div><div class="line">    variables: &#123; <span class="attr">episode</span>: <span class="string">"JEDI"</span> &#125;</div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; data: &#123; loading, hero, error &#125; &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>The same example looks like this when using TypeScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string;</div><div class="line">  id: string;</div><div class="line">  appearsIn: string[];</div><div class="line">  friends: Hero[];</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter = graphql&lt;Response&gt;(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</div><div class="line">    variables: &#123; <span class="attr">episode</span>: <span class="string">"JEDI"</span> &#125;</div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; data: &#123; loading, hero, error &#125; &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>One of the major differences between the two systems is how they handle inferring types. Because TypeScript does not infer types, the React integration of Apollo exports extra type definitions to make adding types easier.</p>
<h2 id="options">options</h2>

<p>Typically, variables to the query will be computed from the props of the wrapper component. Wherever the component is used in your application, the caller would pass arguments that we want our type system to validate what the shape of these props could look like. Here is an example setting the type of props using Flow:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> type &#123; OperationComponent &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string,</div><div class="line">  id: string,</div><div class="line">  appearsIn: string[],</div><div class="line">  friends: Hero[]</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">export</span> type InputProps = &#123;</div><div class="line">  episode: string</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter: OperationComponent&lt;Response, InputProps&gt; = graphql(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; data: &#123; loading, hero, error &#125; &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>The same example looks like this when using TypeScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string;</div><div class="line">  id: string;</div><div class="line">  appearsIn: string[];</div><div class="line">  friends: Hero[];</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type InputProps = &#123;</div><div class="line">  episode: string</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter = graphql&lt;Response, InputProps&gt;(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;),</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; data: &#123; loading, hero, error &#125; &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>This is expecially helpful when accessing deeply nested objects that are passed down to the component through props. For example, when adding prop types a project using Flow will begin to surface errors where props being passed are invalid:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> ApolloClient, &#123; createNetworkInterface &#125; <span class="keyword">from</span> <span class="string">"apollo-client"</span>;</div><div class="line"><span class="keyword">import</span> &#123; ApolloProvider &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> Character <span class="keyword">from</span> <span class="string">"./Character"</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> networkInterface = createNetworkInterface(&#123;</div><div class="line">  uri: <span class="string">"https://mpjk0plp9.lp.gql.zone/graphql"</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> client = <span class="keyword">new</span> ApolloClient(&#123; networkInterface &#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt;</div><div class="line">  &lt;ApolloProvider client=&#123;client&#125;&gt;</div><div class="line">    <span class="comment">// $ExpectError property `episode`. Property not found in. See: src/Character.js:43</span></div><div class="line">    &lt;Character /&gt;</div><div class="line">  &lt;<span class="regexp">/ApolloProvider&gt;;</span></div></pre></td></tr></table></figure>
<h2 id="props">props</h2>

<p>One of the most powerful feature of the React integration is the <code>props</code> function which allows you to reshape the result data from an operation into a new shape of props for the wrapped component. GraphQL is awesome at allowing you to only request the data you want from the server. The client still often needs to reshape or do client side calculations based on these results. The return value can even differ depending on the state of the operation (i.e loading, error, recieved data), so informing our type system of choice of these possible values is really important to make sure our components won’t have runtime errors.</p>
<p>The <code>graphql</code> wrapper from <code>react-apollo</code> supports manually declaring the shape of your result props. It is implmented in Flow like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> type &#123; OperationComponent, QueryProps &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string,</div><div class="line">  id: string,</div><div class="line">  appearsIn: string[],</div><div class="line">  friends: Hero[]</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Props = Response &amp; QueryProps;</div><div class="line"></div><div class="line"><span class="keyword">export</span> type InputProps = &#123;</div><div class="line">  episode: string</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter: OperationComponent&lt;Response, InputProps, Props&gt; = graphql(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;),</div><div class="line">  props: <span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> (&#123; ...data &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; loading, hero, error &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>The same example looks like this when using TypeScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</div><div class="line"><span class="keyword">import</span> gql <span class="keyword">from</span> <span class="string">"graphql-tag"</span>;</div><div class="line"><span class="keyword">import</span> &#123; graphql, NamedProps, QueryProps&#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> HERO_QUERY = gql<span class="string">`</span></div><div class="line"><span class="string">  query GetCharacter($episode: Episode!) &#123;</span></div><div class="line"><span class="string">    hero(episode: $episode) &#123;</span></div><div class="line"><span class="string">      name</span></div><div class="line"><span class="string">      id</span></div><div class="line"><span class="string">      friends &#123;</span></div><div class="line"><span class="string">        name</span></div><div class="line"><span class="string">        id</span></div><div class="line"><span class="string">        appearsIn</span></div><div class="line"><span class="string">      &#125;</span></div><div class="line"><span class="string">    &#125;</span></div><div class="line"><span class="string">  &#125;</span></div><div class="line"><span class="string">`</span>;</div><div class="line"></div><div class="line">type Hero = &#123;</div><div class="line">  name: string;</div><div class="line">  id: string;</div><div class="line">  appearsIn: string[];</div><div class="line">  friends: Hero[];</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type Response = &#123;</div><div class="line">  hero: Hero;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">type WrappedProps = Response &amp; QueryProps;</div><div class="line"></div><div class="line">type InputProps = &#123;</div><div class="line">  episode: string</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter = graphql&lt;Response, InputProps, WrappedProps&gt;(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;),</div><div class="line">  props: <span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> (&#123; ...data &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(<span class="function">(<span class="params">&#123; loading, hero, error &#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">  <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Since we have typed the response shape, the props shape, and the shape of what will be passed to the client, we can prevent errors in multiple places. Our options and props function within the <code>graphql</code> wrapper are now type safe, our rendered component is protected, and our tree of components have their required props enforced. Take for example errors using Flow within the <code>props</code> function after adding the above typings:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> withCharacter: OperationComponent&lt;Response, InputProps, Props&gt; = graphql(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;),</div><div class="line">  props: <span class="function">(<span class="params">&#123; data, ownProps &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    ...data,</div><div class="line">    <span class="comment">// $ExpectError [string] This type cannot be compared to number</span></div><div class="line">    episode: ownProps.episode &gt; <span class="number">1</span>,</div><div class="line">    <span class="comment">// $ExpectError property `isHero`. Property not found on object type</span></div><div class="line">    isHero: data &amp;&amp; data.hero &amp;&amp; data.hero.isHero</div><div class="line">  &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>With this addition, the entirety of the integration between Apollo and React can be statically typed. When combined with the strong tooling each system provides, it can make for a much improved application and developer experience.</p>
<h2 id="classes-vs-functions">classes vs functions</h2>

<p>All of the above examples show wrapping a component which is just a function using the result of a <code>graphql</code> wrapper. Sometimes, components that depend on GraphQL data require state and are formed using the <code>class MyComponent extends React.Component</code> practice. In these use cases, both TypeScript and Flow require adding prop shape to the class instance. In order to support this, <code>react-apollo</code> exports types to support creating result types easily. This is the previous example shortened to show just the component when using Flow:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// @flow</span></div><div class="line"><span class="keyword">import</span> &#123; ChildProps &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter: OperationComponent&lt;Response, InputProps&gt; = graphql(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// flow will infer this type </span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Character</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</div><div class="line">  render()&#123;</div><div class="line">    <span class="keyword">const</span> &#123; loading, hero, error &#125; = <span class="keyword">this</span>.props.data;</div><div class="line">    <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">    <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">    <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> CharacterWithData = withCharacter(Character);</div></pre></td></tr></table></figure>
<p>The same example looks like this when using TypeScript:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; ChildProps &#125; <span class="keyword">from</span> <span class="string">"react-apollo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> withCharacter = graphql&lt;Response, InputProps&gt;(HERO_QUERY, &#123;</div><div class="line">  options: <span class="function">(<span class="params">&#123; episode &#125;</span>) =&gt;</span> (&#123;</div><div class="line">    variables: &#123; episode &#125;</div><div class="line">  &#125;)</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Character</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">ChildProps</span>&lt;<span class="title">InputProps</span>, <span class="title">Response</span>&gt;, </span>&#123;&#125;&gt; &#123;</div><div class="line">  render()&#123;</div><div class="line">    <span class="keyword">const</span> &#123; loading, hero, error &#125; = <span class="keyword">this</span>.props.data;</div><div class="line">    <span class="keyword">if</span> (loading) <span class="keyword">return</span> &lt;div&gt;Loading&lt;/div&gt;;</div><div class="line">    <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;h1&gt;ERROR&lt;/h1&gt;;</div><div class="line">    <span class="keyword">return</span> ...<span class="comment">// actual component with data;</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withCharacter(Character);</div></pre></td></tr></table></figure>
<h2 id="using-name">using the <code>name</code> property</h2><br>If you are using the <code>name</code> property in the configuration of the <code>graphql</code> wrapper, you will need to manually attach the type of the response to the <code>props</code> function. An example using TypeScript would be like this:<br><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; NamedProps, QueryProps &#125; <span class="keyword">from</span> <span class="string">'react-apollo'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> withCharacter = graphql&lt;Response, InputProps, Prop&gt;(HERO_QUERY, &#123;</div><div class="line">  name: <span class="string">'character'</span>,</div><div class="line">  props: <span class="function">(<span class="params">&#123; character, ownProps &#125;: NamedProps&lt;&#123; character: QueryProps &amp; Response &#125;, Props</span>) =&gt;</span> (&#123;</div><div class="line">    ...character,</div><div class="line">    <span class="comment">// $ExpectError [string] This type cannot be compared to number</span></div><div class="line">    episode: ownProps.episode &gt; <span class="number">1</span>,</div><div class="line">    <span class="comment">// $ExpectError property `isHero`. Property not found on object type</span></div><div class="line">    isHero: character &amp;&amp; character.hero &amp;&amp; character.hero.isHero</div><div class="line">  &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure><br><br><h2 id="more-info">more information</h2>

<p>For more information regarding using Flow or TypeScript with Apollo, check out the following articles:</p>
<ul>
<li><a href="https://dev-blog.apollodata.com/a-stronger-typed-react-apollo-c43bd52be0d8" target="_blank" rel="external">A stronger (typed) React Apollo</a></li>
<li><a href="https://dev-blog.apollodata.com/getting-started-with-typescript-and-apollo-a9aa2c7dcf87" target="_blank" rel="external">Getting started with TypeScript and React Apollo</a></li>
</ul>

    </div>
  </div>

  <div class="pagination">
    <div class="content-wrapper">
      
      
        <a class="link primary prev"
          href="react-native.html">
          <span class="icon-arrow-left-alt"></span>
          <span class="subtitle-pagination">Previous</span>
          Integrating with React Native
        </a>
      
      
        <a class="link primary next"
          href="../recipes/authentication.html">
          <span class="subtitle-pagination">Next</span>
          Authentication
          <span class="icon-arrow-right-alt"></span>
        </a>
      
    </div>
  </div>

  <div class="github">
    <a class="link tertiary " href="https://github.com/apollographql/apollo-client/tree/master/docs/source/features/static-typing.md" target="_blank">
      <span class="icon-github"></span>Edit on GitHub</a>
  </div>

  
</div>

    <script src="/docs/react/script/smooth-scroll.min.js"></script>
    <script src="/docs/react/script/main.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

    <script>
      // nectar ninja
      (function(){
        var handle = '@meteorjs';
        var a = document.createElement('script');
        var m = document.getElementsByTagName('script')[0];
        a.async = 1;
        a.src = 'https://nectar.ninja/api/v1/' + handle.slice(1);
        m.parentNode.insertBefore(a, m);
      })();

     

      
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-PNFDVBB');
      

      
        // Segment Tracking
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
        analytics.load("wgrIo8Bul0Ujl8USETG3DB6hONdy4kTg");
        analytics.page()
        }}();
      

      // search box
      

      
    </script>
  </body>
</html>
